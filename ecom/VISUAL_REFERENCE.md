# Visual Reference Guide

## 1. DATABASE SCHEMA

### Surplus Offers Table
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ surplus_offers                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id                                                         â”‚
â”‚ organizationId                                              â”‚
â”‚ status: "OPEN" â†’ "MATCHED" â†’ "FULFILLED"                  â”‚
â”‚ items: [{ name, quantity, unit }, ...]                    â”‚
â”‚ pickupWindowStart: Date                                    â”‚
â”‚ pickupWindowEnd: Date                                      â”‚
â”‚ pickupAddress: String                                      â”‚
â”‚ donorCity: "Mumbai"              âœ… NEW FIELD             â”‚
â”‚ donorOrgName: "Food Bank X"      âœ… NEW FIELD             â”‚
â”‚ createdAt: Date                                            â”‚
â”‚ updatedAt: Date                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Volunteer Assignments Table
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ volunteer_assignments                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id                                                         â”‚
â”‚ surplusId: "12345"                                         â”‚
â”‚ donorOrg: "Food Bank X"                                    â”‚
â”‚ donorCity: "Mumbai"              âœ… FILTERS HERE          â”‚
â”‚ donorAddress: "123 Main St"                                â”‚
â”‚ donorContact: "donor@foodbank.com"                         â”‚
â”‚ items: "10 kg Rice"                                        â”‚
â”‚ pickupWindow: "10 AM - 2 PM"                               â”‚
â”‚ status: "ASSIGNED" â†’ "ACCEPTED" â†’ "COMPLETED"             â”‚
â”‚ volunteerId: String | null                                 â”‚
â”‚ acceptedAt: Date | null          âœ… SET ON ACCEPT        â”‚
â”‚ completedAt: Date | null         âœ… SET ON COMPLETE      â”‚
â”‚ createdAt: Date                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. DONOR DASHBOARD FLOW

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  DONOR DASHBOARD                                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                            â•‘
â•‘  Organization Profile                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ Organization: Food Bank X                        â”‚     â•‘
â•‘  â”‚ City: Mumbai          â† SAVED IN DATABASE       â”‚     â•‘
â•‘  â”‚ Address: 123 Main St                            â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘                                                            â•‘
â•‘  Create Surplus Offer                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ Items: 10 kg Rice                                â”‚     â•‘
â•‘  â”‚ Pickup Window: 10 AM - 2 PM                      â”‚     â•‘
â•‘  â”‚ Address: 123 Main St                            â”‚     â•‘
â•‘  â”‚ [Create Surplus Offer]                          â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â”‚                                             â•‘
â•‘              â–¼ Saves to DB with donorCity                 â•‘
â•‘                                                            â•‘
â•‘  Active Surplus Offers                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ 10 kg Rice                                       â”‚     â•‘
â•‘  â”‚ Status: OPEN                                     â”‚     â•‘
â•‘  â”‚ [View Requests] [Edit] [Cancel]                 â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â”‚                                             â•‘
â•‘              â–¼ Recipient requests                          â•‘
â•‘                                                            â•‘
â•‘  View Requests Modal                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ Recipient Org: Community Kitchen                â”‚     â•‘
â•‘  â”‚ Status: PENDING                                 â”‚     â•‘
â•‘  â”‚ [Approve] [Reject]                              â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â”‚                                             â•‘
â•‘              â–¼ Donor clicks Approve                        â•‘
â•‘                                                            â•‘
â•‘  Behind the scenes:                                       â•‘
â•‘  1. Change status: OPEN â†’ MATCHED                         â•‘
â•‘  2. Create volunteer assignment with:                     â•‘
â•‘     - surplusId                                           â•‘
â•‘     - donorCity: "Mumbai" â† KEY                          â•‘
â•‘     - All offer details                                   â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 3. VOLUNTEER DASHBOARD FLOW

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  VOLUNTEER DASHBOARD                                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                            â•‘
â•‘  Volunteer Profile                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ Name: Anita Sharma                               â”‚     â•‘
â•‘  â”‚ City: Mumbai           â† USED TO FILTER TASKS   â”‚     â•‘
â•‘  â”‚ Vehicle: Two-wheeler                            â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘                                                            â•‘
â•‘  Summary Cards                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘  â”‚ Tasks Accepted Today â”‚ Tasks Completed         â”‚        â•‘
â•‘  â”‚         3            â”‚        42               â”‚        â•‘
â•‘  â”‚ Tasks you accepted   â”‚ All-time deliveries    â”‚        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘                                                            â•‘
â•‘  ğŸ“ Assigned to Me (ASSIGNED status)                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ 10 kg Rice                                       â”‚     â•‘
â•‘  â”‚ From: Food Bank X                                â”‚     â•‘
â•‘  â”‚ Address: 123 Main St, Mumbai                     â”‚     â•‘
â•‘  â”‚ Pickup: 10 AM - 2 PM                             â”‚     â•‘
â•‘  â”‚ Contact: donor@foodbank.com                      â”‚     â•‘
â•‘  â”‚                                                  â”‚     â•‘
â•‘  â”‚ [Accept Task] [Reject]      â† AVAILABLE        â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â”‚         â”‚                                   â•‘
â•‘              â”‚         â””â”€â”€â†’ Task removed                    â•‘
â•‘              â”‚                                             â•‘
â•‘              â””â”€â”€â†’ Status: ASSIGNED â†’ ACCEPTED             â•‘
â•‘                                                            â•‘
â•‘  âœ… Accepted Tasks (ACCEPTED status)                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ 10 kg Rice                                       â”‚     â•‘
â•‘  â”‚ From: Food Bank X                                â”‚     â•‘
â•‘  â”‚ Address: 123 Main St, Mumbai                     â”‚     â•‘
â•‘  â”‚ Pickup: 10 AM - 2 PM                             â”‚     â•‘
â•‘  â”‚ Contact: donor@foodbank.com                      â”‚     â•‘
â•‘  â”‚                                                  â”‚     â•‘
â•‘  â”‚ [Mark Delivered]  â† BUTTON CHANGED              â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â”‚                                             â•‘
â•‘              â””â”€â”€â†’ Status: ACCEPTED â†’ COMPLETED            â•‘
â•‘                                                            â•‘
â•‘  ğŸ¯ Tasks Completed (COMPLETED status) - ALL-TIME         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘  â”‚ All-time task completions (42 total)            â”‚     â•‘
â•‘  â”‚                                                  â”‚     â•‘
â•‘  â”‚ âœ“ 10 kg Rice                                     â”‚     â•‘
â•‘  â”‚   Food Bank X                                    â”‚     â•‘
â•‘  â”‚   Completed: Nov 20, 11:30 AM                    â”‚     â•‘
â•‘  â”‚                                                  â”‚     â•‘
â•‘  â”‚ âœ“ 5 kg Dal                                       â”‚     â•‘
â•‘  â”‚   Community Kitchen                              â”‚     â•‘
â•‘  â”‚   Completed: Nov 19, 2:15 PM                     â”‚     â•‘
â•‘  â”‚                                                  â”‚     â•‘
â•‘  â”‚ ... (40 more completed tasks)                    â”‚     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘              â–²                                             â•‘
â•‘              â””â”€â”€ Counter never resets, shows all-time      â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 4. STATUS TRANSITION DIAGRAM

```
                    ASSIGNED
                       â”‚
                       â”‚ Task appears in:
                       â”‚ "Assigned to Me" tab
                       â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚             â”‚              â”‚
                   [Accept]      [Reject]      [No action]
                       â”‚             â”‚              â”‚
                       â–¼             â–¼              â–¼
                    ACCEPTED      REMOVED          ASSIGNED
                       â”‚          (gone)           (stays)
                       â”‚
                   Task moves to:
                   "Accepted Tasks" tab
                   Button: [Mark Delivered]
                       â”‚
                       â”‚ [Mark Delivered clicked]
                       â”‚
                       â–¼
                    COMPLETED
                       â”‚
                   Task moves to:
                   "Tasks Completed" section
                   Shows completion date
                   Counter: +1 (all-time)
```

---

## 5. API CALL FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Volunteer Dashboard Loads                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        GET /api/volunteer-assignments
        ?volunteerCity=Mumbai
                           â”‚
                           â–¼
        Database Query:
        db.volunteer_assignments.find({
          donorCity: "Mumbai",
          status: { $in: ["ASSIGNED", "ACCEPTED", "COMPLETED"] }
        })
                           â”‚
                           â–¼
        Returns: [
          { status: "ASSIGNED", items: "10 kg Rice", ... },
          { status: "ACCEPTED", items: "5 kg Dal", ... },
          { status: "COMPLETED", items: "2 kg Oil", ... }
        ]
                           â”‚
                           â–¼
        Dashboard displays:
        - "Assigned to Me": ASSIGNED tasks
        - "Accepted Tasks": ACCEPTED tasks
        - "Tasks Completed": COMPLETED tasks
```

### Accept Task Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Volunteer clicks "Accept Task"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
    PATCH /api/volunteer-assignments
    {
      assignmentId: "xyz",
      status: "ACCEPTED",
      volunteerId: "vol123"
    }
                    â”‚
                    â–¼
    Database updates:
    {
      status: "ACCEPTED",
      acceptedAt: "2024-11-20T09:30:00Z",
      volunteerId: "vol123"
    }
                    â”‚
                    â–¼
    Frontend state updates:
    - Remove from "Assigned to Me"
    - Add to "Accepted Tasks"
    - Increment "Tasks Accepted Today"
    - Change button to "Mark Delivered"
```

### Complete Delivery Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Volunteer clicks "Mark Delivered"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
    PATCH /api/volunteer-assignments
    {
      assignmentId: "xyz",
      status: "COMPLETED"
    }
                    â”‚
                    â–¼
    Database updates:
    {
      status: "COMPLETED",
      completedAt: "2024-11-20T11:30:00Z"
    }
                    â”‚
                    â–¼
    Frontend state updates:
    - Remove from "Accepted Tasks"
    - Add to "Tasks Completed"
    - Increment "Tasks Completed" (all-time)
    - Show completion date
```

---

## 6. CITY MATCHING LOGIC

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Donor Creates Offer                                         â”‚
â”‚                                                             â”‚
â”‚ Organization Profile:                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚ â”‚ City: "Mumbai"      â”‚                                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â†’ Saved to surplus_offers.donorCity              â”‚
â”‚                                                             â”‚
â”‚ Donor Approves Request:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚ â”‚ Create Assignment   â”‚                                     â”‚
â”‚ â”‚ donorCity: "Mumbai" â”‚                                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â†’ Saved to volunteer_assignments.donorCity       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Volunteer Loads Dashboard                                   â”‚
â”‚                                                             â”‚
â”‚ Volunteer Profile:                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚ â”‚ City: "Mumbai"      â”‚                                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â†’ Query: GET ?volunteerCity=Mumbai               â”‚
â”‚                                                             â”‚
â”‚ Database Filter:                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ â”‚ WHERE donorCity = "Mumbai"  âœ“         â”‚                   â”‚
â”‚ â”‚ AND   status IN [ASSIGNED, ...]       â”‚                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â†’ Returns only Mumbai tasks                       â”‚
â”‚                                                             â”‚
â”‚ Result:                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚ â”‚ âœ“ Tasks from Mumbai shown        â”‚                        â”‚
â”‚ â”‚ âœ— Tasks from Delhi hidden        â”‚                        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. COUNTER BEHAVIOR

### Tasks Accepted Today (Resets Daily)
```
Day 1:
  Accept task 1 â†’ Counter = 1
  Accept task 2 â†’ Counter = 2
  Accept task 3 â†’ Counter = 3
  End of day

Day 2:
  Accept task 4 â†’ Counter = 1  â† Resets
  Accept task 5 â†’ Counter = 2

(New day = new counter)
```

### Tasks Completed (ALL-TIME, Never Resets)
```
Day 1:
  Complete task 1 â†’ Counter = 1
  Complete task 2 â†’ Counter = 2
  End of day â†’ Counter = 2

Day 2:
  Complete task 3 â†’ Counter = 3  â† Continues
  Complete task 4 â†’ Counter = 4
  End of day â†’ Counter = 4

Day 100:
  Complete task 101 â†’ Counter = 101  â† Still counting

(Counter persists forever, showing lifetime achievement)
```

---

## 8. QUICK ACTIONS

### For Donor
```
1. Create Org Profile (City auto-saved)
   â””â”€â†’ Done automatically

2. Create Surplus Offer
   â””â”€â†’ City saved automatically

3. Approve Request
   â””â”€â†’ Status: OPEN â†’ MATCHED
   â””â”€â†’ Assignment sent to volunteers
```

### For Volunteer
```
1. Set City in Profile
   â””â”€â†’ Used to filter tasks

2. Accept Task
   â””â”€â†’ Moves to "Accepted Tasks"
   â””â”€â†’ "Tasks Accepted Today" +1

3. Mark Delivered
   â””â”€â†’ Moves to "Tasks Completed"
   â””â”€â†’ "Tasks Completed" +1 (all-time)
```

---

**All features ready for use!** âœ…
